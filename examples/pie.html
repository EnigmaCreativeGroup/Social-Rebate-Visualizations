<!doctype html>
<meta charset="utf-8">
<html>
  <head>
    <title>Pie Chart Example</title>
    <script src="../js/d3.v3.min.js"></script>
  </head>

  <body>

    <script>

      /*
      PIE EXAMPLE
      This example code is proof of concept
      for how to write a pie based graph to
      show the proportion between sets of
      information
      */

      var data = [10, 50, 80];
      var r = 300;
      var color = d3.scale.ordinal()
      .range(["red", "blue", "yellow"]);

      var canvas = d3.select("body").append("svg")
      .attr("width", 1500)
      .attr("height", 1500);

      var group = canvas.append("g")
      .attr("transform", "translate(300, 300)");

      //setting up arc path generator
      var arc = d3.svg.arc()
      .innerRadius(0)
      .outerRadius(r);

      //defining a pie layout
      var pie = d3.layout.pie()
      .value(function(d) { return d; });

      var arcs = group.selectAll(".arc")
      .data(pie(data)) //pass the data to pie layout first
      .enter()
      .append("g") //append group for each data element
      .attr("class", "arc");

      arcs.append("path")
      .attr("d", arc)
      .attr("fill", function(d) { return color(d.data) });

      arcs.append("text")
      .attr("transform", function(d) { return "translate(" + arc.centroid(d) + ")"; })
      .attr("text-anchor", "middle")
      .attr("font-size", "1.5em")
      .text(function(d) { return d.data; });

    </script>

  </body>
</html>
